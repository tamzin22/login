{"version":3,"file":"get-weekdays.js","sourceRoot":"","sources":["../../../src/calendar/helpers/get-weekdays.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAG1C,MAAM,UAAU,WAAW,CAAC,IAAqB;IAC/C,MAAM,EACJ,cAAc,GAAG,CAAC,EAClB,cAAc,GAAG,KAAK,EACtB,SAAS,EAET,iBAAiB,EACjB,mBAAmB,GACpB,GAAG,IAAI,IAAI,EAAE,CAAC;IACf,MAAM,mBAAmB,GAAG,CAAC,GAAG,CAAC,CAAC,cAAc,GAAG,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAGtF,MAAM,UAAU,GAAG,SAAS,IAAI,IAAI,CAAC;IAGrC,MAAM,QAAQ,GAAsB;QAClC,GAAG,CACD,cAAc,CAAC,CAAC;YACd,CAAC;oBACC,KAAK,EAAE,UAAU,KAAK,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU;oBAChD,KAAK,EAAE,UAAU;iBAClB,CAAC,CAAC,CAAC;YACJ,EAAE,CACL;QACD,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAkB,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACpD,MAAM,CAAC,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,EAAE,mBAAmB,GAAG,CAAC,CAAC,CAAC;YAGtD,OAAO;gBACL,KAAK,EAAE,iBAAiB,CAAC,CAAC,CAAC;gBAC3B,KAAK,EAAE,mBAAmB,CAAC,CAAC,CAAC;aAC9B,CAAC;QACJ,CAAC,CAAC;KACH,CAAC;IAEF,OAAO,QAAQ,CAAC;AAClB,CAAC","sourcesContent":["import type { CalendarWeekday } from '../typings';\nimport { toUTCDate } from './to-utc-date';\nimport type { GetWeekdaysInit } from './typings';\n\nexport function getWeekdays(init: GetWeekdaysInit): CalendarWeekday[] {\n  const {\n    firstDayOfWeek = 0,\n    showWeekNumber = false,\n    weekLabel,\n\n    longWeekdayFormat,\n    narrowWeekdayFormat,\n  } = init || {};\n  const fixedFirstDayOfWeek = 1 + ((firstDayOfWeek + (firstDayOfWeek < 0 ? 7 : 0)) % 7);\n  /* c8 ignore start */\n  /** FIXME(rongsen): c8 outputs incorrect test coverage mapping for unknown reason */\n  const $weekLabel = weekLabel || 'Wk';\n  /* c8 ignore stop */\n\n  const weekdays: CalendarWeekday[] = [\n    ...(\n      showWeekNumber ?\n        [{\n          label: $weekLabel === 'Wk' ? 'Week' : $weekLabel,\n          value: $weekLabel,\n        }] :\n        []\n    ),\n    ...Array.from(Array(7)).map<CalendarWeekday>((_, i) => {\n      const d = toUTCDate(2017, 0, fixedFirstDayOfWeek + i);\n\n      /** NOTE: Stripping LTR mark away for x-browser compatibilities and consistency reason */\n      return {\n        label: longWeekdayFormat(d),\n        value: narrowWeekdayFormat(d),\n      };\n    }),\n  ];\n\n  return weekdays;\n}\n"]}